VITE_API_KEY="AIzaSyDZyO4jCandrwKrEotul_ppLVawTJDyy6Q"
VITE_AUTH_DOMAIN="proyecto-web1-g2-final.firebaseapp.com"
VITE_PROJECT_ID="proyecto-web1-g2-final"
VITE_STORAGE_BUCKET="proyecto-web1-g2-final.appspot.com"
VITE_MESSAGING_SENDER_ID="448226187128"
VITE_APP_ID="1:448226187128:web:3095ee25dfeb2c11d5a8d"
VITE_MEASUREMENT_ID="G-2M7NFTXMX5"

import { initializeApp } from "firebase/app";
import { getFirestore } from "firebase/firestore";
import { getAuth } from "firebase/auth";
import { getStorage } from "firebase/storage";

const apiKey = import.meta.env.VITE_API_KEY as string;
const authDomain = import.meta.env.VITE_AUTH_DOMAIN as string;
const projectId = import.meta.env.VITE_PROJECT_ID as string;
const storageBucket = import.meta.env.VITE_STORAGE_BUCKET as string;
const messagingSenderId = import.meta.env.VITE_MESSAGING_SENDER_ID as string;
const appId = import.meta.env.VITE_APP_ID as string;

if (!apiKey || !authDomain || !projectId || !storageBucket || !appId) {
  console.error(
    "[Firebase] Faltan variables de entorno VITE_* en .env. Verifica que .env esté en la raíz del proyecto y reinicia Vite."
  );
  // No se detiene la ejecución — Vite seguirá, pero fallarán las llamadas a Firebase si faltan valores.
}

const firebaseConfig = {
  apiKey,
  authDomain,
  projectId,
  storageBucket,
  messagingSenderId,
  appId
};

const app = initializeApp(firebaseConfig);

export const db = getFirestore(app);
export const auth = getAuth(app);
export const storage = getStorage(app);
